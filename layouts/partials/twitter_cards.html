{{- $title := .Title -}}
{{- $description := .Description -}}

{{- if .IsHome -}}
  {{- $title = .Site.Title -}}
  {{- $description = .Site.Params.description -}}
{{- else if not $description -}}
  {{- if .IsPage -}}
    {{- $description = .Summary | plainify | truncate 200 -}}
  {{- else -}}
    {{- $description = .Site.Params.description -}}
  {{- end -}}
{{- end -}}


<!-- Twitter -->
<meta name="twitter:card" content="summary" />
<meta name="twitter:title" content="{{ $title }}" />
<meta name="twitter:description" content="{{ $description }}" />

{{- with .Site.Params.twitter -}}
  <meta name="twitter:site" content="@{{ . }}" />
  <meta name="twitter:creator" content="@{{ . }}" />
{{- end -}}

{{- with .Params.image -}}
  <meta name="twitter:image" content="{{ . | absURL }}" />
  <meta name="twitter:card" content="summary_large_image" />
{{- else -}}
  {{- if .IsPage -}}
    {{- $slug := or .Slug .File.ContentBaseName -}}
    <meta
      name="twitter:image"
      content="{{ printf "og/%s.png" $slug | absURL }}"
    />
    <meta name="twitter:card" content="summary_large_image" />
  {{- else -}}
    {{- with .Site.Params.ogImageDefault -}}
      <meta name="twitter:image" content="{{ . | absURL }}" />
      <meta name="twitter:card" content="summary_large_image" />
    {{- end -}}
  {{- end -}}
{{- end -}}
